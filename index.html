<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv="X-UA-Compatible" content="chrome=1">

		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400">
		<link rel="stylesheet" type="text/css" href="css/hacker.css">
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<link rel="icon" type="image/png" href="https://assets-cdn.github.com/images/icons/emoji/unicode/1f384.png">

		<title>Advent of Code Solutions by xPaw</title>
	</head>
	<body>
		<div class="jumbotron">
			<div class="container">
				<h1>Solutions to <a href="http://adventofcode.com/">adventofcode.com</a></h1>
				<p>
					<a class="btn btn-lg btn-primary" href="https://github.com/xPaw/adventofcode-solutions" role="button">View on Github Â»</a>
				</p>
			</div>
		</div>
		
		<div class="container" id="js-forms">
			<div class="alert alert-dismissible alert-warning">
				<h4>You must enable javascript for this to work</h4>
				<p>All solutions are done in javascript, what did you expect? :)</p>
			</div>
		</div>
		
		<script>
			window.AdventOfCode = {};
			
			(function()
			{
				var solvedDays = 4;
				var container = document.getElementById( 'js-forms' );
				
				container.innerHTML = '';
				
				var OnScriptLoad = function()
				{
					var i = this.dataset.day;
					
					document.getElementById( 'day' + i + '-textarea' ).addEventListener( 'change', function()
					{
						var input = this.value.trim();
						
						if( input.length === 0 )
						{
							return;
						}
						
						var solution = window.AdventOfCode[ 'Day' + i ]( input );
						
						document.getElementById( 'day' + i + '-partone' ).textContent = solution[ 0 ];
						document.getElementById( 'day' + i + '-parttwo' ).textContent = solution[ 1 ];
					}, false );
				};
				
				for( var i = solvedDays; i > 0; i-- )
				{
					container.innerHTML +=
					'<div class="panel panel-success" id="day' + i + '">\
						<a href="https://github.com/xPaw/adventofcode-solutions/blob/master/js/day' + i + '.js" target="_blank" class="pull-right btn btn-sm btn-info">View code</a>\
						<div class="panel-heading">\
							<h3 class="panel-title"><a href="#day' + i + '">#</a> Day ' + i + '</h3>\
						</div>\
						<div class="panel-body">\
							<form class="form-horizontal">\
								<div class="form-group">\
									<label for="day' + i + '-textarea" class="col-lg-2 control-label">Your input</label>\
									<div class="col-lg-10">\
										<textarea class="form-control" rows="1" id="day' + i + '-textarea" spellcheck="false" placeholder="Your day ' + i + ' input"></textarea>\
									</div>\
								</div>\
								<div class="form-group">\
									<label for="day' + i + '-partone" class="col-lg-2 col-md-2 control-label">Part One Answer</label>\
									<div class="col-lg-4 col-md-4">\
										<span class="form-control" id="day' + i + '-partone">0</span>\
									</div>\
									<label for="day' + i + '-parttwo" class="col-lg-2 col-md-2 control-label">Part Two Answer</label>\
									<div class="col-lg-4 col-md-4">\
										<span class="form-control" id="day' + i + '-parttwo">0</span>\
									</div>\
								</div>\
							</form>\
						</div>\
					</div>';
					
					var script = document.createElement( 'script' );
					script.dataset.day = i;
					script.onload = OnScriptLoad;
					script.src = 'js/day' + i + '.js';
					document.head.appendChild( script );
				}
			}());
		</script>
	</body>
</html>
